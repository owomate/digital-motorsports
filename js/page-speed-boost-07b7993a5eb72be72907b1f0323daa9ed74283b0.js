let mouseoverTimerGiraffly,lastTouchTimestampGiraffly;const prefetchesGiraffly=new Set,prefetchElementGiraffly=document.createElement("link"),isSupportedGiraffly=prefetchElementGiraffly.relList&&prefetchElementGiraffly.relList.supports&&prefetchElementGiraffly.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype,allowQueryStringGiraffly="instantAllowQueryString"in document.body.dataset,allowExternalLinksGiraffly="instantAllowExternalLinks"in document.body.dataset,useWhitelistGiraffly="instantWhitelist"in document.body.dataset;let delayOnHoverGiraffly=65,useMousedownGiraffly=!1,useMousedownOnlyGiraffly=!1,useViewportGiraffly=!1;if("instantIntensity"in document.body.dataset){const e=document.body.dataset.instantIntensity;if("mousedown"==e.substr(0,"mousedown".length))useMousedownGiraffly=!0,"mousedown-only"==e&&(useMousedownOnlyGiraffly=!0);else if("viewport"==e.substr(0,"viewport".length))navigator.connection&&(navigator.connection.saveData||navigator.connection.effectiveType.includes("2g"))||("viewport"==e?document.documentElement.clientWidth*document.documentElement.clientHeight<45e4&&(useViewportGiraffly=!0):"viewport-all"==e&&(useViewportGiraffly=!0));else{const t=parseInt(e);isNaN(t)||(delayOnHoverGiraffly=t)}}if(isSupportedGiraffly){const e={capture:!0,passive:!0};if(useMousedownOnlyGiraffly||document.addEventListener("touchstart",touchstartListener,e),useMousedownGiraffly?document.addEventListener("mousedown",mousedownListener,e):document.addEventListener("mouseover",mouseoverListener,e),useViewportGiraffly){let e;e=window.requestIdleCallback?e=>{requestIdleCallback(e,{timeout:1500})}:e=>{e()},e((()=>{const e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const o=t.target;e.unobserve(o),preload(o.href)}}))}));document.querySelectorAll("a").forEach((t=>{isPreloadable(t)&&e.observe(t)}))}))}}function touchstartListener(e){lastTouchTimestampGiraffly=performance.now();const t=e.target.closest("a");isPreloadable(t)&&preload(t.href)}function mouseoverListener(e){if(performance.now()-lastTouchTimestampGiraffly<1100)return;const t=e.target.closest("a");isPreloadable(t)&&(t.addEventListener("mouseout",mouseoutListener,{passive:!0}),mouseoverTimerGiraffly=setTimeout((()=>{preload(t.href),mouseoverTimerGiraffly=void 0}),delayOnHoverGiraffly))}function mousedownListener(e){const t=e.target.closest("a");isPreloadable(t)&&preload(t.href)}function mouseoutListener(e){e.relatedTarget&&e.target.closest("a")==e.relatedTarget.closest("a")||mouseoverTimerGiraffly&&(clearTimeout(mouseoverTimerGiraffly),mouseoverTimerGiraffly=void 0)}function isPreloadable(e){if(e&&e.href&&(!useWhitelistGiraffly||"instant"in e.dataset)&&(allowExternalLinksGiraffly||e.origin==location.origin||"instant"in e.dataset)&&["http:","https:"].includes(e.protocol)&&("http:"!=e.protocol||"https:"!=location.protocol)&&(allowQueryStringGiraffly||!e.search||"instant"in e.dataset)&&!(e.hash&&e.pathname+e.search==location.pathname+location.search||"noInstant"in e.dataset))return!0}function preload(e){if(prefetchesGiraffly.has(e))return;const t=document.createElement("link");t.rel="prefetch",t.href=e,document.head.appendChild(t),prefetchesGiraffly.add(e)}